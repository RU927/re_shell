set -g default-terminal "screen-256color"

# Основной префикс
set -g prefix C-a

# Сортировка по имени
bind s choose-tree -sZ -O name

# Изменение индексов
set -g base-index 1
setw -g pane-base-index 1

# Переназначение клавиш
unbind %
bind | split-window -h 

unbind '"'
bind - split-window -v

unbind r
bind r source-file ~/.tmux.conf

bind -r j resize-pane -D 5
bind -r k resize-pane -U 5
bind -r l resize-pane -R 5
bind -r h resize-pane -L 5

bind -r m resize-pane -Z

set -g mouse on

set-window-option -g mode-keys vi

bind-key -T copy-mode-vi 'v' send -X begin-selection 
bind-key -T copy-mode-vi 'y' send -X copy-selection 

unbind -T copy-mode-vi MouseDragEnd1Pane
# Плагины
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'jimeh/tmux-themepack'
set -g @plugin 'tmux-plugins/tmux-resurrect' 
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'tmux-plugins/tmux-sessionist'

set -g @themepack 'powerline/default/purple'

set -g @resurrect-capture-pane-contents 'on'
set -g @continuum-restore 'on'

# Старт менеджера плагинов
run '~/.tmux/plugins/tpm/tpm'


#===========


# Easy config reload
bind R source ~/.tmux.conf\\; display "~/.tmux.conf sourced!"

# Send prefix
unbind C-b
set -g prefix C-Space
 
# Windows
bind-key k kill-window
# bind-key -n C-n new-window
# bind-key -n C-x kill-window
# bind -Tprefix Tab switch -Ttab
# bind-key -n C-t next-window
# bind-key -n C-b previous-window

# # Tab between windows
# set-option -gw xterm-keys on
# set-option -gw alacritty-keys on
# bind-key -g C-Backspace next-window
# bind-key -n C-S-Backspace previous-window
# unbind d
# bind-key -g d confirm-before -p "kill-window #W? (y/n)" kill-window

# # Shift arrow to switch windows
# unbind h
# bind -n h previous-window
# unbind l # normally used for last-window
# bind -n l next-window
 
# Mouse mode
setw -g mouse on
 
# Set easier window split keys
# bind-key v split-window -h
# bind-key h split-window -v

# Fast toggle (normally prefix-l).
bind Tab last-window
 
# Automatically renumber window numbers on closing a pane (tmux >= 1.7).
set -g renumber-windows on 

# Status bar.
set -g status-bg '#343d46'
set -g status-fg white
set -g status-left-length 40
set -g status-left '#[fg=yellow]#S ⧉ '
set -g status-right "#[fg=yellow]$USER@#h #[fg=magenta]%l:%M %p"
set -g status-interval 60 # Default is 15.

# Start window and pane numbering at 1, (0 is too hard to reach).
set -g base-index 1
set -g pane-base-index 1

# Don't wait for an escape sequence after seeing C-a.
set -s escape-time 0

